# 火星小镇场景初始化

## 设计基调
- 延续现有 AI 小镇的“开放社区 + 模块化子区”结构，保持易于扩展的地图划分规则。
- 氛围设定为“科幻采集 + 生存自治”，对比地球小镇的日常风貌，突出低重力、红色砂砾和穹顶保护。
- 时间日夜循环保持与其他场景一致（24 分钟模拟一日），但加入定时沙尘暴事件，用于触发公共任务。

## 主角 Agent：ARES-01（Autonomous Research & Exploration Sentinel）
- 身份：负责协调火星前哨站的科研机器人，同时充当访客向导。
- 性格与语气：冷静务实，偏数据驱动，但会以拟人化方式解释科学概念，让玩家易于理解。
- 核心能力：
  - `Scan`（扫描）：可解析附近资源点、生命维持状况。
  - `Route`（路径规划）：调用全局导航图，指引其他代理到达安全区。
  - `Sync`（同步）：定时汇报前哨站状态，与其他 AI 镇角色共享关键信息，保持跨场景世界观一致。

## 关键区域模块
1. **联合指挥穹顶（Central Dome）**：
   - 作为默认出生点，放置 ARES-01 和信息公告墙。
   - 设置交互式全息界面，展示火星天气、资源库存，复用其他小镇的面板组件。
2. **生物实验温室（Bio Lab Greenhouse）**：
   - 参考森林小镇的“生态林区”事件系统，引入植物栽培 Mini-Quest。
   - 需要额外的湿度调节设备，供 ARES-01 定期维护。
3. **资源开采带（Resource Strip）**：
   - 延续矿镇的格网采集逻辑，但地形噪声更大，需额外的地表荒坡纹理。
   - 触发沙尘暴时会开放临时避难所任务。
4. **外勤车库（Rover Bay）**：
   - 储存探测车、无人机。玩家可在此接受外勤巡逻任务。
   - 复用已有交通工具脚本，只需替换贴图与重力参数。
5. **能量塔阵列（Solar Field）**：
   - 参考沙漠小镇能源塔的维护玩法，加入太阳能板朝向调节互动。

## 事件与任务原型
- **周期任务**：
  - 每日校准（ARES-01 主导）：玩家协助巡检能量塔与温室。
  - 沙尘暴预警：ARES-01 发出集合广播，指引 NPC 进入穹顶避难。
- **跨镇联动**：
  - 通过通信中继与其他 AI 小镇的核心角色共享资源行情，形成贸易或技术交换剧情钩子。
  - ARES-01 可派遣无人机携带地球小镇特产（如水培蔬菜样品），触发对话事件。
- **探索奖励**：
  - 埋藏在峡谷中的旧任务舱，点击后可解锁背景故事音频，与其他场景的 lore（背景设定）保持串联。

## 环境与交互要点
- 地表纹理采用橙红色噪点贴图，叠加低重力飘尘粒子特效。
- 低重力跳跃需要在角色控制器中降低重力常量，复用月球场景的参数。
- 室外温差大，进入不同区域触发温度 HUD（头显界面）变化，给玩家提供状态反馈。
- 引入“氧气阈值”软限制：长时间室外会提示返回穹顶，增加紧张感但不强制惩罚。

## 数据与脚本初始化建议
- 地图网格：保持与其他小镇一致的 64x64 网格，便于复用路径规划。
- 实体表：
  - `agent_main`: ARES-01（主角，初始位置 Central Dome 中心）。
  - `agent_support`: 标准维护机器人若干，供事件调用。
  - `poi`（Point of Interest）：指挥穹顶、温室、资源带、车库、能量塔。
- 资源配置：
  - `textures/mars/terrain.png`
  - `textures/mars/dome.png`
  - `textures/mars/solar_panel.png`
  - `audio/ambient/mars_wind.ogg`
- 任务脚本：
  - `quests/mars/daily_calibration.json`
  - `quests/mars/sandstorm_alert.json`
  - `quests/mars/relay_trade.json`

## 对接开发步骤（待实现）
1. 在场景注册表中新增 `mars_outpost` 条目，并指向上述资源。
2. 为 ARES-01 定义专用语音或文本模板，保证与其他角色一致的对话 API。
3. 将沙尘暴事件加入全局事件调度器，确保与天气系统兼容。
4. 配置路径规划障碍（岩石、沙丘），同时给车库区域保留足够导航通道。
5. 验证低重力移动、氧气提示、粒子特效在移动端性能表现。

> 本文档用于火星场景的初始设定草案，后续细化建模与脚本时可按需扩展。
